<p id="notice"><%= notice %></p>

<h1>Users</h1>

<br />

<% if can? :create, User %>
  <%= link_to raw('<span class="glyphicon glyphicon-plus"></span>&nbsp;&nbsp;User'), new_user_path, class: "btn btn-success" %>

  <br />
  <br />
<% end %>

<table class="table table-hover">
  <thead>
    <tr>
      <th class="text-center">Name</th>
      <th class="text-center">Email</th>
      <th class="text-center">Admin</th>
      <th class="text-center" colspan="3">Options</th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td class="text-center"><%= user.name %></td>
        <td class="text-center"><%= user.email %></td>
        <td class="text-center"><%= user.admin_text %></td>
        <% if can? :read, User %>
          <td class="text-center">
            <%= link_to raw('<span class="glyphicon glyphicon-eye-open"></span>&nbsp;&nbsp;Show'), user, class: "btn btn-info" %>
          </td>
        <% end %>
        <% if can? :edit, User %>
          <td class="text-center">
            <%= link_to raw('<span class="glyphicon glyphicon-pencil"></span>&nbsp;&nbsp;Edit'), edit_user_path(user), class: "btn btn-warning" %>
          </td>
        <% end %>
        <% if can? :delete, User %>
          <td class="text-center">
            <%= link_to raw('<span class="glyphicon glyphicon-trash"></span>&nbsp;&nbsp;Delete'), user, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
